<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>组件</title>

<style>
	
</style>
<style>
	
</style>
<script>
	window.onload = function(){
		var ipt = document.getElementById('ipt');
	
		bindEvent(ipt, 'click',function(){console.log(1111)})
		bindEvent(ipt, 'click',function(){console.log(2222)})
		bindEvent(ipt, 'show',function(){console.log(33333)})
		bindEvent(ipt, 'show',function(){console.log(4444)})

		console.log(ipt.listeners)
		ipt.onclick = function(){
			fireEvent(ipt,'click');
			fireEvent(ipt,'show');
		}
		

		function bindEvent(obj, events, fn){
			obj.listeners = obj.listeners || {};
			obj.listeners[events] = obj.listeners[events] || [];

			obj.listeners[events].push(fn);

			// obj.addEventListener(events,fn,true);
		}

		function fireEvent(obj, events){
			for(var i=0;i<obj.listeners[events].length;i++){
				obj.listeners[events][i]();
			}
		}
	}
	
</script>
</head>

<body>
	<input id="ipt" type="button" value="1">
	<input type="button" value="2">

</body>
</html>
