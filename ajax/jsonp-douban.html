<!DOCTYPE html>
<html lang="zh-cmn-Hans">
    <head>
    </head>
    <body>
        <input type="text" id="txt">
        <button id="btn">点击</button>
        <ul id="oul"></ul>
    </body>
    <script src="../js/ajax.js"></script>
    <script>
        function fn1(data){
            if(data && data.entry){
                console.log(data)
                var html = '';
                for(let i = 0; i < data.entry.length; i++ ){
                    html += `<li>${data.entry[i].title.$t}</li>` 
                }
                oul.innerHTML = html;
            }
            
        }
        function wang(data){
            console.log(data, 'list')
        }
    </script>
    <script>
        //https://m.douban.com/rexxar/api/v2/muzzy/columns/10008/items?start=0&count=3
        var btn = document.getElementById('btn');
        var oul = document.getElementById('oul');
        var txt = document.getElementById('txt');
        txt.onkeyup = function(){
            var oscript = document.createElement('script');
            oscript.src = `http://api.douban.com/book/subjects?q=${txt.value}&alt=xd&callback=fn1`;
            document.body.appendChild(oscript)
        }
    </script>
</html>
